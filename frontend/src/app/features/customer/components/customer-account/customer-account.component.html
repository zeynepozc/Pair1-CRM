<!-- Account Table -->
<table class="w-full border-collapse border border-gray-300 text-sm mb-4">
  <thead>
    <tr class="bg-gray-300 text-left">
      <th class="p-2 border border-gray-300">Account Status</th>
      <th class="p-2 border border-gray-300">Account Number</th>
      <th class="p-2 border border-gray-300">Account Name</th>
      <th class="p-2 border border-gray-300">Account Type</th>
      <th class="p-2 border border-gray-300">Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let account of accounts; let i = index">
      <td class="p-2 border border-gray-300">
        <button (click)="toggleDetails(i)" class="focus:outline-none">
          <span [ngClass]="{ 'rotate-90': selectedIndex === i }">‚ñº</span>
        </button>
        {{ account.status }}
      </td>
      <td class="p-2 border border-gray-300">{{ account.number }}</td>
      <td class="p-2 border border-gray-300">{{ account.name }}</td>
      <td class="p-2 border border-gray-300">{{ account.type }}</td>
      <td class="p-2 border border-gray-300 flex gap-2">
        <button class="text-blue-600 hover:text-blue-800">‚úèÔ∏è</button>
        <button class="text-red-600 hover:text-red-800">üóëÔ∏è</button>
      </td>
    </tr>
    <tr *ngIf="selectedIndex === i">
      <td colspan="5" class="p-4 border border-gray-300 bg-gray-50">
        <div class="flex justify-center">
          <table class="w-5/6 border-collapse border border-gray-300 text-sm mb-4">
            <thead>
              <tr class="bg-gray-200 text-left">
                <th class="p-2 border border-gray-300">Product ID</th>
                <th class="p-2 border border-gray-300">Product Name</th>
                <th class="p-2 border border-gray-300">Offer Name</th>
                <th class="p-2 border border-gray-300">Offer ID</th>
                <th class="p-2 border border-gray-300">Campaign Name</th>
                <th class="p-2 border border-gray-300">Campaign ID</th>
                <th class="p-2 border border-gray-300">Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let product of fetchedProducts[account.number]">
                <td class="p-2 border border-gray-300">{{ product.id }}</td>
                <td class="p-2 border border-gray-300">{{ product.name }}</td>
                <td class="p-2 border border-gray-300">{{ product.offerName }}</td>
                <td class="p-2 border border-gray-300">{{ product.offerId }}</td>
                <td class="p-2 border border-gray-300">{{ product.campaignName }}</td>
                <td class="p-2 border border-gray-300">{{ product.campaignId }}</td>
                <td class="p-2 border border-gray-300">
                  <button class="text-blue-600 hover:text-blue-800">‚úèÔ∏è</button>
                  <button class="text-red-600 hover:text-red-800">üóëÔ∏è</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </td>
    </tr>
  </tbody>
</table>
